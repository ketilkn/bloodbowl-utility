{% extends 'base.html' %}
{% block content %}
<!--h2 class="content-subhead">Games</h2>-->
<table class="pure-table">
	<thead>
		<tr>
			<td class="current-sort reverse">Date</td>
			<td class="sort-ascending">{{coach.nick}}</td>
			<td class="sort-ascending">Opponent</td>
			<td class="result">R</td>
			<td>Score</td>
			<td>Casualties</td>
			<td class="sort-ascending">tournament</td>
		</tr>
	</thead>
	
	<tbody>
		{% set previous_date = "" %} {% set previous_season = "" %} 
		{% for game in games %}
		<tr class="game {{ loop.cycle('pure-table-odd','pure-table-even') }}">
			<td class="date{% if game.date == previous_date %} repeated{% endif %}">{{game.date.split('T')[0]}} {{game.matchid}}</td>
			<td class="home coach-team team">{{game.us.team.name}}</td>
			<td class="away opponent-team team">{{game.them.team.name}}</td>
			<td class="result">{{game.us.result}}</td>
			<td class="score">{{game.us.td}}-{{game.them.td}}</td>
			<td class="casualties">{{game.us.casualties.total}}-{{game.them.casualties.total}}</td>
			<td class="season{% if game.season == previous_season %} repeated{% endif %}">{{game.season.season}}</td>
		</tr>
		{% set previous_date = game.date %} 
		{% set previous_season = game.season %} 
		{% endfor %}
	</tbody>
</table>
{% endblock %}

